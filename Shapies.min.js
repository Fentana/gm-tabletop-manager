var Shapies=(function(c){var b=(function(){var d;function e(){var g=24;var n={};var l=0;var j=function(){var o=c.document.createElement("canvas");o.setAttribute("id","Shapies");o.setAttribute("style","border: 5px solid black;");o.setAttribute("width",500);o.setAttribute("height",500);c.document.body.insertBefore(o,c.document.body.firstChild);return o};var k=(c.document.getElementById("Shapies")!==null)?c.document.getElementById("Shapies"):j();k.getContext("2d").font="bold 12px sans-serif";k.getContext("2d").fillStyle="black";var i=function(){try{k.getContext("2d").save();k.getContext("2d").setTransform(1,0,0,1,0,0);k.getContext("2d").clearRect(0,0,k.width,k.height);k.getContext("2d").restore();return true}catch(o){console.log("ERROR - CANVAS: clear() hit an error");console.log(o.name);console.log(o.message)}return false};var m=function(){i();for(var o in n){try{n[o].draw(k.getContext("2d"))}catch(p){console.log("ERROR - CANVAS: draw() hit an error");console.log(p.name);console.log(p.message)}}};var f=function(){if(l===0){l=setInterval(m,1000/g);return true}return false};var h=function(){if(l>0){clearInterval(l);l=0;return true}return false};return{fps:function(o){if((typeof o=="number")&&(o!==null)){return(g=o)}return g},start:f,stop:h,addActor:function(o,p){if((typeof p!=="undefined")&&(p!==null)){return(n[""+o]=p)}return false},deleteActor:function(o){if(n.hasOwnProperty(o)){return(delete n[o])}return false},midpoint:function(){return[k.width/2,k.height/2]},width:function(o){if((typeof o!=="undefined")&&(o!==null)){return(k.width=o)}return k.width},height:function(o){if((typeof o!=="undefined")&&(o!==null)){return(k.height=o)}return k.height}}}return{getInstance:function(){if(!d){d=e()}return d}}})();function a(){function g(){this.text="filler";this.point=[0,0];this.draw=function(h){try{h.fillText(this.text,this.point[0],this.point[1]);return true}catch(i){console.log("ERROR - TEXT: draw() hit an error");console.log(i.name);console.log(i.message)}return false}}function e(){this.enclosed=false;this.colour="clear";this.border="clear";this.angles=[0,Math.PI];this.lengths=[5,10];this.point=[0,0];this.draw=function(h){try{h.beginPath();h.arc(this.point[0],this.point[1],this.radius,this.angles[0],this.angles[1],false);if(this.enclosed){h.closePath()}if(this.colour!=="clear"){h.fillStyle=this.colour;h.fill()}if(this.border!=="clear"){h.lineWidth=1;h.strokeStyle=this.border;h.stroke()}h.closePath();return true}catch(i){console.log("ERROR - ARC: draw() hit an error");console.log(i.name);console.log(i.message)}return false}}function f(){this.colour="clear";this.border="clear";this.lengths=[5,10];this.point=[0,0];this.draw=function(j){try{j.beginPath();var m=this.point[0]-(this.lengths[0]/2);var h=this.point[0]+(this.lengths[0]/2);var i=this.point[1]-(this.lengths[1]/2);var l=this.point[1]+(this.lengths[1]/2);j.moveTo(this.point[0],i);j.bezierCurveTo(h,i,h,l,this.point[0],l);j.bezierCurveTo(m,l,m,i,this.point[0],i);if(this.colour!=="clear"){j.fillStyle=this.colour;j.fill()}if(this.border!=="clear"){j.lineWidth=1;j.strokeStyle=this.border;j.stroke()}j.closePath();return true}catch(k){console.log("ERROR - ELLIPSE: draw() hit an error");console.log(k.name);console.log(k.message)}return false}}function d(){this.colour="clear";this.eyecolour="clear";this.eyeborder="clear";this.smilecolour="clear";this.smileborder="clear";this.border="clear";this.radius=100;this.point=[0,0];this.attack=function(){alert("ATTACK!")};this.heal=function(){alert("HEAL!")};this.move=function(){alert("MOVE!")};this.draw=function(l){try{l.beginPath();l.arc(this.point[0],this.point[1],this.radius,0,2*Math.PI,false);if(this.colour!=="clear"){l.fillStyle=this.colour;l.fill()}if(this.border!=="clear"){l.lineWidth=1;l.strokeStyle=this.border;l.stroke()}l.closePath();for(var k=0;k<2;k++){var o=(k!==1)?this.point[0]+(this.radius/2):this.point[0]-(this.radius/2);l.beginPath();var p=o-(this.radius/5);var h=o+(this.radius/5);var j=this.point[1]-(this.radius/2)-(this.radius/4);var n=this.point[1]-(this.radius/2)+(this.radius/4);l.moveTo(o,j);l.bezierCurveTo(h,j,h,n,o,n);l.bezierCurveTo(p,n,p,j,o,j);if(this.eyecolour!=="clear"){l.fillStyle=this.eyecolour;l.fill()}if(this.eyeborder!=="clear"){l.lineWidth=1;l.strokeStyle=this.eyeborder;l.stroke()}l.closePath();l.beginPath();l.arc(this.point[0],this.point[1],this.radius/2,0,Math.PI,false);l.closePath();if(this.smilecolour!=="clear"){l.fillStyle=this.smilecolour;l.fill()}if(this.smileborder!=="clear"){l.lineWidth=1;l.strokeStyle=this.smileborder;l.stroke()}l.closePath()}return true}catch(m){console.log("ERROR - SMILIE: draw() hit an error");console.log(m.name);console.log(m.message)}return false}}return{create:function(i,h){switch(i){case"text":return new g();case"arc":return new e();case"ellipse":return new f();case"smilie":return new d()}return false}}}return{canvas:function(){return b.getInstance()},actors:new a()}})(window);