<!doctype html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta charset="utf-8">
	<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
	<meta content="width=device-width, initial-scale=1" name="viewport">
	<meta content="Shapies Tabletop RPG Manager" name="description">
	<meta content="Almighty Nassar" name="author">
	<link rel="icon" href="favicon.ico">
	<title>Grid Converter</title>
	<!-- CSS SCRIPTS -->
	<link rel="stylesheet" type="text/css" href="../css/bootstrap.css" media="all">
	<link rel="stylesheet" type="text/css" href="../css/bootstrap-theme.css" media="all">
	<link rel="stylesheet" type="text/css" href="../css/fonts.css" media="all">
</head>
<body>
	<div class="container">
		<div class="row">
			<div id="Form" class="col-lg-12" >
				<p>For a square, enter the length of a side (standard is 5 ft). For a Hexagon, enter the edge length (standard is 3.5 miles for a radius of 3.5 and opposite-edge width of 6).</p>
				<p class="form-inline">
					1
				    <select id="type" class="form-control">
				    	<option value="square">square</option>
				    	<option value="hex">hex</option>
				    </select>
				    <b> = </b>
				    <input id="measure" class="form-control" value="5" />
				    <select id="unit" class="form-control">
				    	<option value="feet">feet</option>
				    	<option value="mile">miles</option>
				    	<option value="meter">meters</option>
				    	<option value="kilometer">kilometers</option>
				    </select>
				    <button onclick='calculate();' class="btn btn-primary">Calculate!</button>
				</p>
				<div id="Grid">
					<table class="table table-bordered table-condensed">
						<thead>
							<tr>
								<th>Squares</th>
								<th>Metric</th>
								<th>Imperial</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>1</td>
								<td id="1_metric_square"></td>
								<td id="1_imperial_square"></td>
							</tr>
							<tr>
								<td>2</td>
								<td id="2_metric_square"></td>
								<td id="2_imperial_square"></td>
							</tr>
							<tr>
								<td>3</td>
								<td id="3_metric_square"></td>
								<td id="3_imperial_square"></td>
							</tr>
							<tr>
								<td>4</td>
								<td id="4_metric_square"></td>
								<td id="4_imperial_square"></td>
							</tr>
							<tr>
								<td>5</td>
								<td id="5_metric_square"></td>
								<td id="5_imperial_square"></td>
							</tr>
							<tr>
								<td>6</td>
								<td id="6_metric_square"></td>
								<td id="6_imperial_square"></td>
							</tr>
							<tr>
								<td>7</td>
								<td id="7_metric_square"></td>
								<td id="7_imperial_square"></td>
							</tr>
							<tr>
								<td>8</td>
								<td id="8_metric_square"></td>
								<td id="8_imperial_square"></td>
							</tr>
							<tr>
								<td>9</td>
								<td id="9_metric_square"></td>
								<td id="9_imperial_square"></td>
							</tr>
							<tr>
								<td>10</td>
								<td id="10_metric_square"></td>
								<td id="10_imperial_square"></td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
	<script src="../js/jquery.js"></script>
	<script>
	function calculate() {
		var square = $('#type').val();
		var measure = parseFloat($('#measure').val());
		var unit = $('#unit').val();
		switch (square) {
		case "hex":
			switch(unit) {
			case "kilometer":
				var converted = m2k(measure, false);
				for (var i = 1; i <= 10; i++) {
					$('#'+i+'_metric_square').html(measure*i + " km (Edge-Edge = "+edge(measure*i)+")");
					$('#'+i+'_imperial_square').html(converted*i  + " miles (Edge-Edge = "+edge(converted*i)+")");
				}
				break;
			case "mile":
				var converted = m2k(measure, true);
				for (var i = 1; i <= 10; i++) {
					$('#'+i+'_imperial_square').html(measure*i + " miles (Edge-Edge = "+edge(measure*i)+")");
					$('#'+i+'_metric_square').html(converted*i  + " km (Edge-Edge = "+edge(converted*i)+")");
				}
				break;
			case "meter":
				var converted = f2m(measure, false);
				for (var i = 1; i <= 10; i++) {
					$('#'+i+'_metric_square').html(measure*i + " m (Edge-Edge = "+edge(measure*i)+")");
					$('#'+i+'_imperial_square').html(converted*i  + " feet (Edge-Edge = "+edge(converted*i)+")");
				}
				break;
			default:
				var converted = f2m(measure, true);
				for (var i = 1; i <= 10; i++) {
					$('#'+i+'_imperial_square').html(measure*i + " feet  (Edge-Edge = "+edge(measure*i)+")");
					$('#'+i+'_metric_square').html(converted*i + " m (Edge-Edge = "+edge(converted*i)+")");
				}
				break;
			}
			break;
		default:
			switch(unit) {
			case "kilometer":
				var converted = m2k(measure, false);
				for (var i = 1; i <= 10; i++) {
					$('#'+i+'_metric_square').html(measure*i + " km (Diagonal = "+isoc(measure*i)+")");
					$('#'+i+'_imperial_square').html(converted*i  + " miles (Diagonal = "+isoc(converted*i)+")");
				}
				break;
			case "mile":
				var converted = m2k(measure, true);
				for (var i = 1; i <= 10; i++) {
					$('#'+i+'_imperial_square').html(measure*i + " miles (Diagonal = "+isoc(measure*i)+")");
					$('#'+i+'_metric_square').html(converted*i  + " km (Diagonal = "+isoc(converted*i)+")");
				}
				break;
			case "meter":
				var converted = f2m(measure, false);
				for (var i = 1; i <= 10; i++) {
					$('#'+i+'_metric_square').html(measure*i + " m (Diagonal = "+isoc(measure*i)+")");
					$('#'+i+'_imperial_square').html(converted*i  + " feet (Diagonal = "+isoc(converted*i)+")");
				}
				break;
			default:
				var converted = f2m(measure, true);
				for (var i = 1; i <= 10; i++) {
					$('#'+i+'_imperial_square').html(measure*i + " feet (Diagonal = "+isoc(measure*i)+")");
					$('#'+i+'_metric_square').html(converted*i + " m (Diagonal = "+isoc(converted*i)+")");
				}
				break;
			}
		}
	}
	function f2m(measure,imperial) {
		if (imperial) {
			var a = measure*10;
			return (Math.round(a*0.3))/10;
		}
		return Math.ceil(3.3*measure);
	}
	function m2k(measure,imperial) {
		if (imperial) {
			var a = measure*10;
			return (Math.round(a*1.6))/10;
		}
		var a = measure*10;
		return (Math.round(a*0.6))/10;
	}
	function isoc(a) {
		return Math.round(10*Math.sqrt(Math.pow(a,2)+Math.pow(a,2)))/10;
	}
	function edge(side) {
		return Math.round((side*Math.cos(Math.PI/6))*2);
	}
	</script>
</body>
</html>