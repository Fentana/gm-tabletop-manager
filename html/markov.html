<!doctype html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta charset="utf-8">
	<meta content="text/html; charset=utf-8" http-equiv="Content-Type">
	<meta content="width=device-width, initial-scale=1" name="viewport">
	<meta content="Shapies Tabletop RPG Manager" name="description">
	<meta content="Almighty Nassar" name="author">
	<link rel="icon" href="favicon.ico">
	<title>NPC Creator</title>
	<!-- CSS SCRIPTS -->
	<link rel="stylesheet" type="text/css" href="../bootstrap/css/bootstrap.min.css" media="all">
	<link rel="stylesheet" type="text/css" href="../bootstrap/css/bootstrap-theme.min.css" media="all">
</head>
<body>
	<div id="Markov">
		<select id="race_input">
		</select>
		<table>
			<tr>
				<td><button onclick='loadName("human", false);'>Load Male Human</button></td>
				<td><button onclick='loadName("dwarf", false);'>Load Male Dwarf</button></td>
				<td><button onclick='loadName("elf", false);'>Load Male Elf</button></td>
				<td><button onclick='loadName("orc", false);'>Load Male Orc</button></td>
			</tr>
			<tr>
				<td><button onclick='loadName("human", true);'>Load Female Human</button></td>
				<td><button onclick='loadName("dwarf", true);'>Load Female Dwarf</button></td>
				<td><button onclick='loadName("elf", true);'>Load Female Elf</button></td>
				<td><button onclick='loadName("orc", true);'>Load Female Orc</button></td>
			</tr>
		</table>
		<p>
			<b>Number:</b>
		   	<select id="number" name="number">
				<option value="1">1</option>
				<option value="5">5</option>
				<option value="10">10</option>
				<option value="25">25</option>
				<option value="50">50</option>
				<option value="100">100</option>
			</select>
			<b>Length:</b>
		   	<select id="length" name="length">
				<option value="5">5</option>
				<option value="6">6</option>
				<option value="7">7</option>
				<option value="8">8</option>
				<option value="9">9</option>
				<option value="10">10</option>
			</select>
		</p>
		<p><button onclick='generate();'>Submit</button></p>
	</div>
	<div id="Result">
	</div>
	<script src="../jquery/jquery.min.js"></script>
	<script src="../js/markov.min.js"></script>
	<script src="../js/names.js"></script>
	<script>
		// When the document is ready, start loading in the races from our data file
		$().ready(function() {
			$.getJSON( "../data/races4E.json", function( json ) {
				for(var race in json) {
					$('#race_input').append('<option value="'+race+'">'+race+'</option>');
					alert('this');
				}
			});
		});
		
		// Load the default list (Human males)
		Markov.generate(Names.human(false), 'Human_male');
		// Generates names
		var generate = function () {
			var text = "";
			var number = parseInt(window.document.getElementById('number').value, 10);
			var length = parseInt(window.document.getElementById('length').value, 10);
			for (var i = 0; i < number; i++) {
				var name = Markov.make(1,length);
				text += "<p>" + name.charAt(0).toUpperCase() + name.slice(1); + "</p>";
			}
			window.document.getElementById('Result').innerHTML = text;
		};
		// Load names
		var loadName = function (name, isFemale) {
			var gender = isFemale ? true : false;
			switch (name) {
			case 'dwarf':
				Markov.generate(Names.dwarf(gender), 'Dwarf_male');
				break;
			case 'elf':
				Markov.generate(Names.elf(gender), 'Elf_male');
				break;
			case 'orc':
				Markov.generate(Names.orc(gender), 'Orc_male');
				break;
			default:
				Markov.generate(Names.human(gender), 'Human_male');
				break;
			}
		}
	</script>
</body>
</html>